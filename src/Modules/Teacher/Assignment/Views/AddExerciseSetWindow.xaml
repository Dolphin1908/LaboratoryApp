<Window x:Class="LaboratoryApp.src.Modules.Teacher.Assignment.Views.AddExerciseSetWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:LaboratoryApp.src.Modules.Teacher.Assignment.Views"
        xmlns:domain="clr-namespace:LaboratoryApp.src.Core.Domains"
        xmlns:helper="clr-namespace:LaboratoryApp.src.Core.Helpers"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="{DynamicResource MaterialDesignFont}"
        mc:Ignorable="d"
        Height="470" MinHeight="470" 
        Width="400" MinWidth="400"
        ResizeMode="NoResize"
        Title="Thêm bộ bài tập mới">

    <ScrollViewer Grid.Row="1"
                  VerticalScrollBarVisibility="Hidden">
        <StackPanel Margin="10">
            <!-- Thông tin chung -->
            <TextBlock Text="Thông tin chung"
                       FontSize="20"
                       FontWeight="Bold"
                       Margin="0,0,0,5"/>
            <TextBox VerticalAlignment="Top"
                     materialDesign:HintAssist.Hint="Tên bộ bài tập"
                     Style="{StaticResource MaterialDesignOutlinedTextBox}"
                     Margin="0,0,0,20">
                <TextBox.Text>
                    <Binding Path="ExerciseSet.Title"
                             UpdateSourceTrigger="PropertyChanged">
                        <Binding.ValidationRules>
                            <domain:NotEmptyValidationRule ValidatesOnTargetUpdated="True"/>
                        </Binding.ValidationRules>
                    </Binding>
                </TextBox.Text>
            </TextBox>

            <TextBox VerticalAlignment="Top"
                     materialDesign:HintAssist.Hint="Mô tả"
                     Style="{StaticResource MaterialDesignOutlinedTextBox}"
                     Margin="0,0,0,20"
                     Text="{Binding ExerciseSet.Description, UpdateSourceTrigger=PropertyChanged}"/>

            <!-- Cài đặt -->
            <TextBlock Text="Cài đặt"
                       FontSize="20"
                       FontWeight="Bold"
                       Margin="0,0,0,5"/>

            <PasswordBox VerticalContentAlignment="Top"
                         materialDesign:HintAssist.Hint="Mật khẩu (Tùy chọn)"
                         materialDesign:TextFieldAssist.HasClearButton="True"
                         helper:PasswordBoxHelper.Attach="True"
                         helper:PasswordBoxHelper.Password="{Binding ExerciseSet.Password, Mode=TwoWay}"
                         Style="{StaticResource MaterialDesignOutlinedRevealPasswordBox}"
                         Margin="0,0,0,20"/>

            <Grid Margin="0,0,0,20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <ComboBox Grid.Column="0"
                          Margin="0,0,5,0"
                          materialDesign:HintAssist.Hint="Loại bộ"
                          Style="{StaticResource MaterialDesignOutlinedComboBox}"
                          ItemsSource="{Binding DataContext.ExerciseTypeOptions, RelativeSource={RelativeSource AncestorType=Window}}"
                          SelectedValuePath="Value"
                          SelectedValue="{Binding ExerciseSet.Type, UpdateSourceTrigger=PropertyChanged}"/>

                <ComboBox Grid.Column="1"
                          Margin="5,0,0,0"
                          materialDesign:HintAssist.Hint="Độ khó"
                          Style="{StaticResource MaterialDesignOutlinedComboBox}"
                          ItemsSource="{Binding DataContext.DifficultyLevelOptions, RelativeSource={RelativeSource AncestorType=Window}}"
                          SelectedValuePath="Value"
                          SelectedValue="{Binding ExerciseSet.Difficulty, UpdateSourceTrigger=PropertyChanged}"/>
            </Grid>
            
            <StackPanel Orientation="Horizontal"
                        Margin="0,0,0,20">
                <CheckBox Content="Công khai"
                          IsChecked="{Binding ExerciseSet.IsPublic}"
                          Margin="0,0,20,0"
                          Padding="5,0,0,0"/>
                <CheckBox Content="Yêu cầu đăng nhập"
                          IsChecked="{Binding ExerciseSet.RequireLogin}"
                          Padding="5,0,0,0"/>
            </StackPanel>

            <!-- Nút -->

            <Button Grid.Column="0"
                    Width="150"
                    Content="Done"
                    Background="SpringGreen"
                    Foreground="Black"
                    BorderThickness="0"
                    Style="{StaticResource MaterialDesignRaisedSecondaryButton}"
                    materialDesign:ButtonAssist.CornerRadius="10"
                    Command="{Binding SaveCommand}"
                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"/>
        </StackPanel>
    </ScrollViewer>
</Window>
